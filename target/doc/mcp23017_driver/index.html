<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="MCP23017 Driver"><meta name="keywords" content="rust, rustlang, rust-lang, mcp23017_driver"><title>mcp23017_driver - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Regular-1f7d512b176f0f72.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceSerif4-Bold-124a1ca42af929b6.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../static.files/rustdoc-b826345d929eb323.css" id="mainThemeStyle"><link rel="stylesheet" id="themeStyle" href="../static.files/light-87108236bf50c158.css"><link rel="stylesheet" disabled href="../static.files/dark-839c5fb8722cb456.css"><link rel="stylesheet" disabled href="../static.files/ayu-d48ac194417684c8.css"><script id="default-settings" ></script><script src="../static.files/storage-d43fa987303ecbbb.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-0dede64717b247ca.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-201a7e04dc4c6fce.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="sidebar-logo" href="../mcp23017_driver/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2></h2></nav><nav class="sidebar"><a class="sidebar-logo" href="../mcp23017_driver/index.html"><div class="logo-container"><img class="rust-logo" src="../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></div></a><h2 class="location"><a href="#">Crate mcp23017_driver</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.1.0</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#statics">Statics</a></li><li><a href="#functions">Functions</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../static.files/wheel-5ec35bf9ca753509.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1 class="fqn">Crate <a class="mod" href="#">mcp23017_driver</a><button id="copy-path" onclick="copy_path(this)" title="Copy item path to clipboard"><img src="../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><a class="srclink" href="../src/mcp23017_driver/lib.rs.html#1-463">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="rustdoc-toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="mcp23017-driver"><a href="#mcp23017-driver">MCP23017 Driver</a></h2>
<p>A key-server driver module for driving a MCP23017 ic.</p>
<h3 id="configuration"><a href="#configuration">Configuration</a></h3>
<p>The driver expects a json object as it’s configuration data. The object must have an “address”, and “inputs” field and optionally a “bus” field“. The “bus” field specifies which i2c bus the ic’s are connected too, but default it is 1. The “address” field is a list of all of the ic i2c addresses this driver should connect too. The ic’s will be connected in the order specified. The “inputs” field is a list of all input bindings for the driver. The pin numbers setup for the ic’s will start at 0 and then increment across the ic’s connected. e.g. pin 0 on the second ic will be 16.</p>
<p>An input binding is an object containing one of three fields: “Matrix”, “Input”, and “Output”. </p>
<p>The “matrix” field contains an object with the fields “x”, “y”, and optionally “invert”. It defines a matrix of pins used as an input. “x” and “y” defines the pins making up the axes of the matrix. The “x” pins will be used as outputs and the “y” pins will be used as inputs. When “invert” is set to true this will be reversed. </p>
<p>The “input” field contains an object with the fields “pin”, “on_state”, and “pull_high”. It defines a single pin as an input. “pin” defines which pin will act as an input. “on_state” defines the value of the pin that is considered to be high. e.g. true = high when pin is high, false = high when pin is low. “pull_high” when true will enable the ic’s internal pull high resistor for that pin.</p>
<p>The “output” field contains an object with the fields “pin”. It defines a single pin as an input. “pin” defines which pin will act as an output.</p>
<div class="example-wrap"><pre class="language-json"><code>{
    &quot;address&quot;: [30],
    &quot;bus&quot;: 3,
    &quot;inputs&quot;: [
        {
            &quot;input&quot;: {
                &quot;pin&quot;: 0,
                &quot;on_state&quot;: true,
                &quot;pull_high&quot;: false,
            }
        }
    ]
}</code></pre></div></div></details><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.DriverError.html" title="mcp23017_driver::DriverError struct">DriverError</a></div><div class="item-right docblock-short">Driver error</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MCP23017Data.html" title="mcp23017_driver::MCP23017Data struct">MCP23017Data</a></div><div class="item-right docblock-short">MCP23017 Driver Data</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MCP23017Driver.html" title="mcp23017_driver::MCP23017Driver struct">MCP23017Driver</a></div><div class="item-right docblock-short">MCP23017 Driver</div></div><div class="item-row"><div class="item-left module-item"><a class="struct" href="struct.MCPModule.html" title="mcp23017_driver::MCPModule struct">MCPModule</a></div></div></div><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="enum" href="enum.PinType.html" title="mcp23017_driver::PinType enum">PinType</a></div><div class="item-right docblock-short">Pin type, used to serialize pin configurations</div></div></div><h2 id="statics" class="small-section-header"><a href="#statics">Statics</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="static" href="static._1as_0lib_1header_0root_bmodule_bloader.html" title="mcp23017_driver::_1as_0lib_1header_0root_bmodule_bloader static">_1as_0lib_1header_0root_bmodule_bloader</a></div></div></div><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><div class="item-table"><div class="item-row"><div class="item-left module-item"><a class="fn" href="fn.get_library.html" title="mcp23017_driver::get_library fn">get_library</a></div></div></div></section></div></main><div id="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="mcp23017_driver" data-themes="" data-resource-suffix="" data-rustdoc-version="1.67.0-nightly (7eef946fc 2022-11-06)" data-search-js="search-39ee4160c7dc16c9.js" data-settings-js="settings-3a0b9947ba1bd99a.js" data-settings-css="settings-a66f7524084a489a.css" ></div></body></html>